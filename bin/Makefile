TrimGalore:
	mac_trim_galore --paired --fastqc -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/trim_galore_output /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/21_Wally_Fasting_GR_TTCAGC_L006_R1_001.fastq.gz /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/21_Wally_Fasting_GR_TTCAGC_L006_R2_001.fastq.gz
	mac_trim_galore --paired --fastqc -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/trim_galore_output /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/20_Wally_Fasting_IgG_GGACCC_L007_R1_001.fastq.gz /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/20_Wally_Fasting_IgG_GGACCC_L007_R2_001.fastq.gz
	mac_trim_galore --paired --fastqc -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/trim_galore_output /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/20_Wally_Fasting_IgG_GGACCC_L006_R1_001.fastq.gz /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/20_Wally_Fasting_IgG_GGACCC_L006_R2_001.fastq.gz
	mac_trim_galore --paired --fastqc -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/trim_galore_output /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/19_Wally_Fasting_GR_CCTTCA_L007_R1_001.fastq.gz /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/19_Wally_Fasting_GR_CCTTCA_L007_R2_001.fastq.gz
	mac_trim_galore --paired --fastqc -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/trim_galore_output /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/19_Wally_Fasting_GR_CCTTCA_L006_R1_001.fastq.gz /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/19_Wally_Fasting_GR_CCTTCA_L006_R2_001.fastq.gz
	mac_trim_galore --paired --fastqc -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/trim_galore_output /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/18_Wally_Fasting_IgG_AAGGGA_L007_R1_001.fastq.gz /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/18_Wally_Fasting_IgG_AAGGGA_L007_R2_001.fastq.gz
	mac_trim_galore --paired --fastqc -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/trim_galore_output /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/18_Wally_Fasting_IgG_AAGGGA_L006_R1_001.fastq.gz /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/18_Wally_Fasting_IgG_AAGGGA_L006_R2_001.fastq.gz
	mac_trim_galore --paired --fastqc -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/trim_galore_output /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/21_Wally_Fasting_GR_TTCAGC_L007_R1_001.fastq.gz /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/21_Wally_Fasting_GR_TTCAGC_L007_R2_001.fastq.gz
reference:
	cd /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/reference && curl -O ftp://ftp.ccb.jhu.edu/pub/data/bowtie2_indexes/mm10.zip
	cd /Users/tzuchieh/Documents/TBMI_ChIP/bin/../dataset/reference && unzip mm10.zip
get_BAM:
	samtools view -bS /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/bowtie2/18_Wally_Fasting_IgG_AAGGGA_L006_R1_001.sam > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/18_Wally_Fasting_IgG_AAGGGA_L006_R1_001.bam
	samtools sort -T temp -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/18_Wally_Fasting_IgG_AAGGGA_L006_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/18_Wally_Fasting_IgG_AAGGGA_L006_R1_001.bam
	samtools view -bS /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/bowtie2/18_Wally_Fasting_IgG_AAGGGA_L007_R1_001.sam > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/18_Wally_Fasting_IgG_AAGGGA_L007_R1_001.bam
	samtools sort -T temp -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/18_Wally_Fasting_IgG_AAGGGA_L007_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/18_Wally_Fasting_IgG_AAGGGA_L007_R1_001.bam
	samtools view -bS /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/bowtie2/19_Wally_Fasting_GR_CCTTCA_L006_R1_001.sam > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/19_Wally_Fasting_GR_CCTTCA_L006_R1_001.bam
	samtools sort -T temp -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/19_Wally_Fasting_GR_CCTTCA_L006_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/19_Wally_Fasting_GR_CCTTCA_L006_R1_001.bam
	samtools view -bS /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/bowtie2/19_Wally_Fasting_GR_CCTTCA_L007_R1_001.sam > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/19_Wally_Fasting_GR_CCTTCA_L007_R1_001.bam
	samtools sort -T temp -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/19_Wally_Fasting_GR_CCTTCA_L007_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/19_Wally_Fasting_GR_CCTTCA_L007_R1_001.bam
	samtools view -bS /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/bowtie2/20_Wally_Fasting_IgG_GGACCC_L006_R1_001.sam > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/20_Wally_Fasting_IgG_GGACCC_L006_R1_001.bam
	samtools sort -T temp -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/20_Wally_Fasting_IgG_GGACCC_L006_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/20_Wally_Fasting_IgG_GGACCC_L006_R1_001.bam
	samtools view -bS /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/bowtie2/20_Wally_Fasting_IgG_GGACCC_L007_R1_001.sam > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/20_Wally_Fasting_IgG_GGACCC_L007_R1_001.bam
	samtools sort -T temp -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/20_Wally_Fasting_IgG_GGACCC_L007_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/20_Wally_Fasting_IgG_GGACCC_L007_R1_001.bam
	samtools view -bS /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/bowtie2/21_Wally_Fasting_GR_TTCAGC_L006_R1_001.sam > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/21_Wally_Fasting_GR_TTCAGC_L006_R1_001.bam
	samtools sort -T temp -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/21_Wally_Fasting_GR_TTCAGC_L006_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/21_Wally_Fasting_GR_TTCAGC_L006_R1_001.bam
	samtools view -bS /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/bowtie2/21_Wally_Fasting_GR_TTCAGC_L007_R1_001.sam > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/21_Wally_Fasting_GR_TTCAGC_L007_R1_001.bam
	samtools sort -T temp -o /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/21_Wally_Fasting_GR_TTCAGC_L007_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/21_Wally_Fasting_GR_TTCAGC_L007_R1_001.bam
merge:
	samtools merge /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/18_Wally_Fasting_IgG.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/18_Wally_Fasting_IgG_AAGGGA_L006_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/18_Wally_Fasting_IgG_AAGGGA_L007_R1_001.sorted.bam
	samtools merge /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/19_Wally_Fasting_GR.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/19_Wally_Fasting_GR_CCTTCA_L006_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/19_Wally_Fasting_GR_CCTTCA_L007_R1_001.sorted.bam
	samtools merge /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/20_Wally_Fasting_IgG.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/20_Wally_Fasting_IgG_GGACCC_L006_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/20_Wally_Fasting_IgG_GGACCC_L007_R1_001.sorted.bam
	samtools merge /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/21_Wally_Fasting_GR.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/21_Wally_Fasting_GR_TTCAGC_L006_R1_001.sorted.bam /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/sorted_BAM/21_Wally_Fasting_GR_TTCAGC_L007_R1_001.sorted.bam
clean_up:
	awk '$$1 ~/chr[0-9]*$$|chrX$$|chrY$$|chrM$$/ { print }' /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/macs2/19_Wally_Fasting_GR_macs2_peaks.narrowPeak > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/macs2/clean_narrowPeak/19_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak
	awk '$$1 ~/chr[0-9]*$$|chrX$$|chrY$$|chrM$$/ { print }' /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/macs2/21_Wally_Fasting_GR_macs2_peaks.narrowPeak > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/macs2/clean_narrowPeak/21_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak
	awk '$$1 ~/chr[0-9]*$$|chrX$$|chrY$$|chrM$$/ { print }' /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/macs2/test.narrowPeak > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/macs2/clean_narrowPeak/test_clean.narrowPeak
IDR:
	cat mm10_genome.txt > ../software/idrCode/genome_table
	cd /Users/tzuchieh/Documents/TBMI_ChIP/bin/../software/idrCode && Rscript batch-consistency-analysis.r /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/macs2/clean_narrowPeak/19_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/macs2/clean_narrowPeak/21_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak -1 /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/IDR_output/19_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_21_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_IDR 0 F p.value
meme_3:
	meme-chip -oc /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/MEME_output -index-name 19_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_21_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_IDR-overlapped-peaks.txt_meme.html -time 300 -order 1 -db /Users/tzuchieh/Documents/TBMI_ChIP/bin/../software/meme/db/motif_databases/JASPAR/JASPAR_CORE_2014_vertebrates.meme -meme-mod zoops -meme-minw 6 -meme-maxw 30 -meme-nmotifs 3 -dreme-e 0.05 -centrimo-score 5.0 -centrimo-ethresh 10.0 /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/IDR_output/forMEME/19_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_21_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_IDR-overlapped-peaks_MEME.fastq
homer_1:
	sed 's/"//g' /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/IDR_output/forMEME/19_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_21_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_IDR-overlapped-peaks_MEME.bed > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/IDR_output/forHomer/19_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_21_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_IDR-overlapped-peaks_forHomer.bed
	annotatePeaks.pl /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/IDR_output/forHomer/19_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_21_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_IDR-overlapped-peaks_forHomer.bed mm10 > /Users/tzuchieh/Documents/TBMI_ChIP/bin/../output/Homer_annotation/19_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_21_Wally_Fasting_GR_macs2_peaks_clean.narrowPeak_IDR-overlapped-peaks_annotation.txt
